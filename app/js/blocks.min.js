"use strict";$(function(){$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})}),$(function(){$(".form-validation").each(function(){var t=$(this).find("button[type='submit']");$(this).validate({highlight:function(a,i){$(a).parent().removeClass("form-validation__group_valid").addClass("form-validation__group_invalid"),$(a).removeClass("validation_valid").addClass("validation_invalid")},unhighlight:function(a,i){$(a).parent().removeClass("form-validation__group_invalid").addClass("form-validation__group_valid"),$(a).addClass("validation_valid").removeClass("validation_invalid")},errorElement:"span",errorClass:"form-validation__error-text",ignore:".validation_ignore",focusInvalid:!0,submitHandler:function(a){var i=$(a);return $.ajax({type:"POST",url:"./mail.php",data:i.serialize()}).done(function(a){t.attr("disabled","disabled"),$(".answer-form-show").click(),setTimeout(function(){i.trigger("reset"),t.removeAttr("disabled"),i.find(".validation_valid").removeClass("validation_valid"),i.find(".form-validation__group_valid").removeClass("form-validation__group_valid")},3e3)}),!1}})})}),$(function(){$.validator.addMethod("myEmail",function(a,i){return this.optional(i)||/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)},"Некорректный email"),$.validator.addMethod("validationRequired",$.validator.methods.required,"Обязательное поле!"),$.validator.addMethod("validationMinlength",$.validator.methods.minlength,"Минимум {0} символов!"),$.validator.addMethod("validationMaxlength",$.validator.methods.maxlength,"Максимум {0} символов!"),$.validator.addMethod("validationDigits",$.validator.methods.digits,"Должны быть только цифры!"),$.validator.addMethod("validationRangelength",$.validator.methods.rangelength,"Символов не менее {0} и не более {1}"),$.validator.addClassRules({validation:{validationRequired:!0},validation_email:{myEmail:!0},validation_minlength:{validationMinlength:3},validation_maxlength:{validationMaxlength:10},validation_digits:{validationDigits:!0},validation_rangelength:{validationRangelength:[3,7]}})}),$(function(){$(".answer-form__ok").click(function(){return $.magnificPopup.close(),!1})});