"use strict";$(function(){$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})}),$(function(){function e(t){var e=$(".catalog");e.is(t.target)||0!==e.has(t.target).length||($(".page").removeClass("page_fixed"),$(".catalog").removeClass("content__catalog_open"))}function t(t){t.matches?(document.addEventListener("touchstart",e,!1),document.addEventListener("click",e,!1),$(".catalog__close").click(function(){return $(".page").removeClass("page_fixed"),$(".catalog").removeClass("content__catalog_open"),!1})):(document.removeEventListener("touchstart",e,!1),document.removeEventListener("click",e,!1),$(".page").removeClass("page_fixed"),$(".catalog").removeClass("content__catalog_open"))}$(".catalog").stickit({screenMinWidth:1201}),$(".catalog__open-close").click(function(){$(this).toggleClass("catalog__open-close_active"),$(this).parent("li").toggleClass("active"),$(this).next().next().slideToggle()});var i=window.matchMedia("screen and (max-width: 1200.9px)");i.addListener(t),t(i)}),$(function(){$(".catalog-btn").click(function(){return $(".content__catalog").toggleClass("content__catalog_open"),$(".page").toggleClass("page_fixed"),!1})}),$(function(){}),$(function(){$(".hamburger").click(function(){return $(this).find(".hamburger__btn").toggleClass("hamburger__btn_on"),$(".top-menu ul").slideToggle(),!1})}),$(function(){$(".button-number_watched").click(function(){return $(".watched_top").slideToggle(),!1}),$(".quick-panel__button_watched").click(function(){return $(".watched_bottom").slideToggle(),!1})}),$(function(){$(".custom-select__drop-button").click(function(){var i=$(this).parents(".custom-select").find(".custom-select__drop-list");return i.is(":hidden")?(i.slideDown(),$(this).addClass("custom-select__drop-button_active"),i.find("li").click(function(){i.find(".custom-select__drop-item_selected").removeClass("custom-select__drop-item_selected"),$(this).addClass("custom-select__drop-item_selected");var t=$(this).find("a").html(),e=$(this).find("a").attr("href");return $(this).parents(".custom-select").find(".custom-select__drop-hidden-input").val(e),$(this).parents(".custom-select").find(".custom-select__drop-button").removeClass("custom-select__drop-button_active").html(t),i.slideUp(),!1})):($(this).removeClass("custom-select__drop-button_active"),i.slideUp()),!1}),$(document).click(function(t){$(t.target).closest(".custom-select__drop-list").length||($(".custom-select__drop-list").slideUp("slow"),$(".custom-select__drop-button").removeClass("custom-select__drop-button_active"),t.stopPropagation())})}),$(function(){"false"==localStorage.getItem("catalogView")||null==localStorage.getItem("catalogView")?($(".view__icon_tile").addClass("view__icon_active"),$(".content-area__products-list").removeClass("content-area__products-list_horizontal")):"true"==localStorage.getItem("catalogView")&&($(".view__icon_list").addClass("view__icon_active"),$(".content-area__products-list").addClass("content-area__products-list_horizontal")),$(".view__icon_tile").click(function(){return $(".content-area__products-list").removeClass("content-area__products-list_horizontal"),$(".view__icon_list").removeClass("view__icon_active"),$(this).addClass("view__icon_active"),localStorage.setItem("catalogView",!1),!1}),$(".view__icon_list").click(function(){return $(".content-area__products-list").addClass("content-area__products-list_horizontal"),$(".view__icon_tile").removeClass("view__icon_active"),$(this).addClass("view__icon_active"),localStorage.setItem("catalogView",!0),!1})}),$(function(){var t=$(".price-range__slider"),e=$(".price-range__input_from"),i=$(".price-range__input_to"),a=void 0,o=0,n=0;function s(t){o=t.from,n=t.to,e.prop("value",o),i.prop("value",n)}t.ionRangeSlider({type:"double",min:1,max:3e4,from:2271,to:7300,hide_from_to:!0,hide_min_max:!0,onStart:s,onChange:s}),a=t.data("ionRangeSlider"),e.on("input",function(){var t=$(this).prop("value");t<1?t=1:n<t&&(t=n),a.update({from:t})}),i.on("input",function(){var t=$(this).prop("value");t<o?t=o:3e4<t&&(t=3e4),a.update({to:t})}),$("input[name=only_digits]").bind("change keyup input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,""))}),$("input[name=only_digits]").bind("focusout",function(){(this.value.length<1||0==this.value)&&(this.value=1)})}),$(function(){$(".product").each(function(){$(this).find(".product__img-container").each(function(){var t=$(this).find("img").attr("src");$(this).css({background:"url("+t+") center no-repeat","background-size":"cover"})})}),$(".product__img-container, .product__name").mouseenter(function(){$(this).parents(".product").addClass("product_hover")}),$(".product").mouseleave(function(){$(this).removeClass("product_hover")})}),$(function(){$(".card-slider__item").each(function(){var t=$(this).find("img").attr("src");$(this).css({background:"url("+t+") center no-repeat","background-size":"cover"})}),$(".card-slider__item-preview").each(function(){var t=$(this).find("img").attr("src");$(this).css({background:"url("+t+") center no-repeat","background-size":"cover"})}),$(".card-slider__slider").slick({infinite:!0,fade:!1,autoplay:!1,autoplaySpeed:5e3,speed:500,slidesToShow:1,slidesToScroll:1,swipeToSlide:!0,dots:!1,adaptiveHeight:!1,arrows:!0,asNavFor:".card-slider__slider-previews",appendArrows:$(".card-slider__navigation"),prevArrow:"<span class='card-slider__prev'></span>",nextArrow:"<span class='card-slider__next'></span>"}),$(".card-slider__slider-previews").slick({slidesToShow:5,slidesToScroll:1,swipeToSlide:!0,arrows:!1,dots:!1,focusOnSelect:!0,asNavFor:".card-slider__slider",responsive:[{breakpoint:480,settings:{slidesToShow:4}}]})}),$(function(){$(".mask-phone").mask("+7 (999) 999-99-99")}),function(p){p.fn.lazyYT=function(t){var u=p.extend({loading_text:"Loading...",default_ratio:"16:9",callback:null,container_class:"lazyYT-container"},t);return this.each(function(){var e,t,i,a,o,n,s,r,l,c,d=p(this).addClass(u.container_class);t=u,a=(e=d).data("width"),o=e.data("height"),n=e.data("ratio")?e.data("ratio"):t.default_ratio,s=e.data("youtube-id"),r=[],l=e.text()?e.text():t.loading_text,c=e.data("parameters")||"",n=n.split(":"),"number"==typeof a&&"number"==typeof o?(e.width(a),e.height(o)):"number"==typeof a?e.width(a):(0==(a=e.width())&&(a=e.parent().width()),n[1],n[0]),r.push('<div class="ytp-thumbnail">'),r.push('<div class="html5-info-bar">'),r.push('<div class="html5-title">'),r.push('<div class="html5-title-text-wrapper">'),r.push('<a id="lazyYT-title-',s,'" class="html5-title-text" target="_blank" tabindex="3100" href="//www.youtube.com/watch?v=',s,'">'),r.push(l),r.push("</a>"),r.push("</div>"),r.push("</div>"),r.push("</div>"),e.html(r.join("")),i=e.find(".ytp-thumbnail").css({"background-image":["url(//img.youtube.com/vi/",s,"/maxresdefault.jpg)"].join("")}).addClass("lazyYT-image-loaded").on("click",function(t){t.preventDefault(),!e.hasClass("lazyYT-video-loaded")&&i.hasClass("lazyYT-image-loaded")&&e.html('<iframe src="https://www.youtube.com/embed/'+s+"?autoplay=1&"+c+'" frameborder="0" allowfullscreen></iframe>').addClass("lazyYT-video-loaded")})})}}(jQuery),$(function(){$(".lazyYT").lazyYT()}),$(function(){var t=$(".tooltip"),i=!1,a=!1,o=void 0;t.bind("mouseenter",function(){if(i=$(this),o=i.attr("data-tooltip"),a=$("<div id='tooltip'></div>"),!o||""==o)return!1;i.removeAttr("data-tooltip"),a.css("opacity",0).html(o).appendTo("body");var t=function(){$(window).width()<1.5*a.outerWidth()?a.css("max-width",$(window).width()/2):a.css("max-width",340);var t=i.offset().left+i.outerWidth()/2-a.outerWidth()/2,e=i.offset().top-a.outerHeight()-20;if(t<0?(t=i.offset().left+i.outerWidth()/2-20,a.addClass("left")):a.removeClass("left"),t+a.outerWidth()>$(window).width()?(t=i.offset().left-a.outerWidth()+i.outerWidth()/2+20,a.addClass("right")):a.removeClass("right"),e<0){i.offset().top,i.outerHeight();a.addClass("top")}else a.removeClass("top");a.css({left:t,top:e}).animate({top:"+=10",opacity:1},150)};t(),$(window).resize(t);var e=function(){a.animate({top:"-=10",opacity:0},150,function(){$(this).remove()}),i.attr("data-tooltip",o)};i.bind("mouseleave",e),a.bind("click",e)})}),$(function(){$(".section-like__slider").slick({infinite:!0,fade:!1,autoplay:!1,autoplaySpeed:5e3,speed:500,slidesToShow:4,slidesToScroll:1,swipeToSlide:!0,dots:!1,adaptiveHeight:!1,arrows:!0,appendArrows:$(".section-like__navigation"),prevArrow:"<span class='section-like__prev'></span>",nextArrow:"<span class='section-like__next'></span>",responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]})}),$(function(){$(".basket-item .basket-item__img-link").each(function(){var t=$(this).find("img").attr("src");$(this).css({background:"url("+t+") center no-repeat","background-size":"cover"})}),$(".only-digits").bind("change keyup input click",function(){this.value.match(/[^0-9]/g)&&(this.value=this.value.replace(/[^0-9]/g,""))}),$(".only-digits").bind("focusout",function(){(this.value.length<1||0==this.value)&&(this.value=1)}),$(".basket-item__minus").click(function(){var t=$(this).parent().find("input"),e=parseInt(t.val())-1;return e=e<1?1:e,t.val(e),t.change(),!1}),$(".basket-item__plus").click(function(){var t=$(this).parent().find("input");return t.val(parseInt(t.val())+1),t.change(),!1})}),$(function(){var i,a,o;i=".tabs__nav",a="tabs__item_active",o=".tabs__tab-content",$(".tabs__link").click(function(t){t.preventDefault(),$(i+" ."+a).removeClass(a),$(this).parents("li").addClass(a);var e=$(this).attr("href");$(o).not(e).css({display:"none"}),$(e).fadeIn(500)})}),function(h){var f,m,o;h.fn.readmore||(f=[" ",".",",",";","!","?"],m=["strong","b","em","i","a","u","sup","sub","p","span","div","font","blockquote","address","h1","h2","h3","h4","h5","h6","ul","ol","li","dl","dd","dt"],o=function(t){return'<div class="b-readmore"><a class="b-readmore__toggle" href="#"><span class="b-readmore__link b-readmore__open">'+t.textOpen+'</span><span class="b-readmore__link b-readmore__close">'+t.textClose+"</span></a></div>"},h.fn.readmore=function(t){var e,i,a,p,_=void 0;return 0==this.length?this:1<this.length?this.each(function(){h(this).readmore(t)}):(e=this,_=h.extend(!0,{},h.fn.readmore.defaults,t),a={},p=void 0,(i={}).initData=function(){var t=e.html();return t=h.trim(t.replace(/\s+/g," ")),{limit:{total:_.brief,delta:_.addition},parent:e,classname:e.attr("class"),html:t,text:e.text()}},i.howMuchSymbols=function(){var t=void 0;return t=p.text.replace(/\s+/g," "),(t=h.trim(t)).length},i.cutBrief=function(){var t=void 0,e=0,i=0,a=p.html,o=a.length,n=0,s=!0,r=f.length,l=o,c=p.limit.total-p.limit.delta,d=void 0,u=[];if(p.count>p.limit.total){for(;e<o;e++)if("<"===a[e]&&(s=!1,e<o-1&&("/"===a[e+1]?0<(t=a.indexOf(">",e+1))&&(d=a.substr(e+2,t-e-2),0<=h.inArray(d,m)&&u.pop()):/\w/gi.test(a[e+1])&&0<(t=a.indexOf(">",e+1))?(d=a.substr(e+1,t-e-1),0<=h.inArray(d,m)&&u.push(d)):s=!0)),s&&n++,">"===a[e]&&(s=!0),c<=n){if(h.inArray(a[e],f)<0){if(e<o-1&&h.inArray(a[e+1],f)<0){for(;i<r;i++)0<(t=a.indexOf(f[i],e+1))&&t<l&&(l=t);e=l}}else n--;break}for(p.brief=a.substr(0,e),p.brief+=_.ellipsis,e=u.length-1;0<=e;e--)p.brief+="</"+u[e]+">"}else p.brief=a},i.getBriefHeight=function(t){},i.events=function(){p.parent.on("click",".b-readmore__toggle",function(t){var e=h(this).parent().parent();t.preventDefault(),e.hasClass("b-readmore--opened")?i.createDots(_.smoothly):i.destroyDots(_.smoothly),e.toggleClass("b-readmore--opened")})},i.createDots=function(t){p.parent.animate({height:p.briefHeight},t,function(){p.parent.html(p.brief+o(_)),"function"==typeof _.callback&&_.callback(e,!1)})},i.destroyDots=function(t){p.parent.html(p.html+o(_)),p.parent.animate({height:i.getBriefHeight(p.html)},t,function(){"function"==typeof _.callback&&_.callback(e,!0)})},i.apply=function(){p.parent.css({overflow:"hidden"}),p.briefHeight=i.getBriefHeight(p.brief),i.createDots(0)},a.init=function(){(p=i.initData()).count=i.howMuchSymbols(),i.cutBrief(),p.count>p.limit.total&&i.apply(),i.events()},a.init(),this)},h.fn.readmore.defaults={ellipsis:"...",textOpen:"Весь текст",textClose:"Свернуть",callback:null,brief:1500,addition:300,smoothly:0})}(jQuery),$(function(){$(".compare__ceil-inner").readmore({brief:150,addition:20,smoothly:700})}),$(function(){$(".close-popup").click(function(){return $.magnificPopup.close(),!1})});